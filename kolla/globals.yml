---
# OpenStack Lab - Kolla-Ansible globals.yml
# OpenStack 2025.2 (Flamingo) on Debian Bookworm (aarch64)

###############
# Kolla options
###############
kolla_base_distro: "debian"
openstack_release: "2025.2"
openstack_tag_suffix: "-aarch64"
kolla_container_engine: "docker"
node_custom_config: "/Users/eevenson/Documents/Projects/openstack/kolla/config"

################
# VIP addresses
################
# Internal VIP on management network — single controller, but keep HAProxy
# for production-like architecture
kolla_internal_vip_address: "192.168.105.250"
kolla_internal_fqdn: "controller.openstack.local"

# External VIP — same as internal for this lab (no separate external LB network)
kolla_external_vip_address: "192.168.105.250"
kolla_external_fqdn: "controller.openstack.local"

####################
# Networking options
####################
network_interface: "lima0"
api_interface: "lima0"
tunnel_interface: "lima1"
neutron_external_interface: "lima2"
storage_interface: "lima3"

# OVN as neutron backend
neutron_plugin_agent: "ovn"

#################
# TLS options
#################
kolla_enable_tls_internal: "yes"
kolla_enable_tls_external: "yes"
kolla_enable_tls_backend: "yes"
kolla_copy_ca_into_containers: "yes"
openstack_cacert: "/etc/ssl/certs/ca-certificates.crt"
kolla_admin_openrc_cacert: "/etc/ssl/certs/ca-certificates.crt"

#################
# OpenStack options
#################
enable_openstack_core: "yes"

# Disable Heat (not needed for this lab)
enable_heat: "no"

# Enable Cinder with LVM backend
enable_cinder: "yes"
enable_cinder_backend_lvm: "yes"
cinder_volume_group: "cinder-volumes"

# Disable Cinder backup (no backup target configured yet)
enable_cinder_backup: "no"

# Monitoring
enable_prometheus: "yes"
enable_grafana: "yes"

# Horizon dashboard
enable_horizon: "yes"

# Console access
nova_console: "novnc"

########################
# Nova - Compute Options
########################
# Nested virt inside QEMU — must use qemu, not kvm
nova_compute_virt_type: "qemu"
